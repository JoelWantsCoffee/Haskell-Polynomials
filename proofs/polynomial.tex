\documentclass[12pt]{article}
\usepackage[scale=0.8]{geometry}
\usepackage{amsmath,amssymb}

\title{Polynomial.hs - Proofs}
\author{Joel Richardson}

\begin{document}

\maketitle

\section{Division}
\begin{verbatim}
polyDivMod :: ED r => Polynomial r -> Polynomial r -> (Polynomial r, Polynomial r)
polyDivMod a@(Monomial c d) (Monomial c' d')
    | d >= d' = (Monomial (c // c') (d - d'), Monomial (c % c') d)
    | otherwise = (0, a)
polyDivMod a b
    | degree a < degree b = (0, a)
    | isZero q = (0, r)
    | otherwise = (\(q', r') -> (q + q', r')) $ polyDivMod r (expand b)
    where
        q = Monomial (leadingCoeff a // leadingCoeff b) (degree a - degree b)
        r = expand $ a - (q * b)
\end{verbatim}
\subsection*{Definition}
Suppose $R$ is some ring, then $divmod : R[x] \times R[x] \to R[x]\times R[x] $ is a function such that if $divmod : (a,b) \mapsto (q,r)$ then:
\begin{enumerate}
    \item $a = q\cdot b + r$
    \item If there exists $q'$ such that $a = q'\cdot b$ then $r = 0$
    \item If $R$ is a field, then no $r' \in R[x]$ exists such that $degree(r') < degree(r)$ and $a = q\cdot b + r'$
\end{enumerate}
\subsection*{Proof}

\begin{align*}
    divmod\left(a_nx^n + a_{n-1}x^{n-1} + \ldots,\,& b_mx^m + b_{m-1}x^{m-1} + \ldots\right) \\
    &=
    \begin{cases}
        qx^{n-m} + rx^n : (q,r) = divmod(a,b) & (a_nx^n + \ldots) = a_nx^n \text{ and } (b_mx^m + \ldots) = b_mx^m \\
        0 & \text{if } x \in \mathbb{R}\setminus\mathbb{Q}
    \end{cases}
\end{align*}

Let us consider the monomial case first - take $a = c_ax^{d_a}$ and $b = c_bx^{d_b}$. In this case 
$$divide : (a,b) \mapsto \left(\frac{c_a}{c_b}x^{d_a - d_b}, (c_a \mod c_b)x^{d_a - d_b} \right)$$
and, 
\begin{align*}
    c_bx^{d_b} \cdot \frac{c_a}{c_b}x^{d_a - d_b} + (c_a \mod c_b)x^{d_a} &= 
    c_b\cdot (c_a // c_b)x^{d_a} + (c_a \mod c_b)x^{d_a - d_b}
\end{align*}


\end{document}